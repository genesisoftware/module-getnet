<?php
/**
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to https://www.fcamara.com.br/ for more information.
 *
 * @category  FCamara
 * @package   FCamara_Getnet
 * @copyright Copyright (c) 2020 Getnet
 * @Agency    FCamara Formação e Consultoria, Inc. (http://www.fcamara.com.br)
 * @author    Danilo Cavalcanti de Moura <danilo.moura@fcamara.com.br>
 */
?>
<?php $_cards = $block->getCardList(); ?>

<?php if (count($_cards)): ?>
    <div class="table-wrapper my-credit-cards">
        <table class="data table table-credit-cards" id="my-orders-table">
            <caption class="table-caption"><?= $block->escapeHtml(__('Stored Payment Methods')) ?></caption>
            <thead>
            <tr>
                <th scope="col" class="col card-number"><?= $block->escapeHtml(__('Card Number')) ?></th>
                <th scope="col" class="col expire"><?= $block->escapeHtml(__('Expiration Date')) ?></th>
                <th scope="col" class="col card-type"><?= $block->escapeHtml(__('Type')) ?></th>
                <th scope="col" class="col actions">&nbsp;</th>
            </tr>
            </thead>
            <tbody>
                <?php foreach ($_cards as $_card): ?>
                    <tr>
                        <td><?= $block->escapeHtml(__('**** **** **** ' . $_card['last_four_digits'])) ?></td>
                        <td><?= $block->escapeHtml(__($_card['expiration_month'] . '/' . $_card['expiration_year'])) ?></td>
                        <td><?= $block->escapeHtml(__($_card['brand'])) ?></td>
                        <td>
                            <a href="<?= $block->getUrl('getnet/cards/deleteaction', ['_current' => true, '_query' => ['card_id' => $_card['card_id']]]) ?>">
                                <?= $block->escapeHtml(__('Delete')) ?>
                            </a>
                        </td>
                    </tr>
                <?php endforeach; ?>
            </tbody>
        </table>
    </div>
<?php else: ?>
    <div class="message info empty"><span><?= $block->escapeHtml(__('You have no stored payment methods.')) ?></span></div>
<?php endif; ?>
